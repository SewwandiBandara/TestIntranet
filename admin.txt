# Connecting Frontend Admin Panel to MSSQL Backend
/////

I'll help you connect your React admin panel to your MSSQL backend. Here's a complete implementation:

## Backend (index.js) - Enhanced with API Endpoints

```javascript
const express = require('express');
const bodyParser = require('body-parser');
const cors = require('cors');
const sql = require('mssql'); 
const multer = require('multer');
const path = require('path');
const fs = require('fs');

const app = express();

// Middleware
app.use(cors());
app.use(bodyParser.json());
app.use('/uploads', express.static('uploads'));

// Create uploads directory if it doesn't exist
if (!fs.existsSync('uploads')) {
  fs.mkdirSync('uploads');
  fs.mkdirSync('uploads/carousel');
  fs.mkdirSync('uploads/calendar');
  fs.mkdirSync('uploads/achievements');
}

// Configure multer for file uploads
const storage = multer.diskStorage({
  destination: function (req, file, cb) {
    let uploadPath = 'uploads/';
    if (req.baseUrl.includes('carousel')) {
      uploadPath += 'carousel/';
    } else if (req.baseUrl.includes('calendar')) {
      uploadPath += 'calendar/';
    } else if (req.baseUrl.includes('achievements')) {
      uploadPath += 'achievements/';
    }
    cb(null, uploadPath);
  },
  filename: function (req, file, cb) {
    cb(null, Date.now() + '-' + Math.round(Math.random() * 1E9) + path.extname(file.originalname));
  }
});

const upload = multer({ storage: storage });

// MSSQL database connection 
const dbConfig = {
  server: 'IT-Software1\\SOFTWARE1',     
  user: 'SOFTWARE1',        
  password: 'sof123',
  database: 'intranet_db',
  options: {
    encrypt: false,
    trustServerCertificate: true
  }
};

// Connect to MSSQL
let pool;
sql.connect(dbConfig, (err) => {
  if (err) {
    console.error('Database connection failed:', err.message);
  } else {
    console.log('MSSQL database connection is successful');
    pool = new sql.ConnectionPool(dbConfig);
    pool.connect();
  }
});

// API Endpoints

// Image Carousel Endpoints
app.get('/api/carousel', async (req, res) => {
  try {
    const result = await pool.request().query('SELECT * FROM image_Carousel');
    res.json(result.recordset);
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

app.post('/api/carousel', upload.single('image'), async (req, res) => {
  try {
    const { name } = req.body;
    const imagePath = req.file ? req.file.filename : null;
    
    const result = await pool.request()
      .input('name', sql.VarChar, name)
      .input('imagePath', sql.VarChar, imagePath)
      .query('INSERT INTO image_Carousel (name, image) VALUES (@name, @imagePath)');
    
    res.json({ message: 'Image added successfully', id: result.recordset });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

app.put('/api/carousel/:id', upload.single('image'), async (req, res) => {
  try {
    const { id } = req.params;
    const { name } = req.body;
    let imagePath = null;
    
    if (req.file) {
      imagePath = req.file.filename;
      // Delete old image if needed
    }
    
    let query = 'UPDATE image_Carousel SET name = @name';
    if (imagePath) {
      query += ', image = @imagePath';
    }
    query += ' WHERE image_ID = @id';
    
    const request = pool.request()
      .input('id', sql.Int, id)
      .input('name', sql.VarChar, name);
    
    if (imagePath) {
      request.input('imagePath', sql.VarChar, imagePath);
    }
    
    await request.query(query);
    res.json({ message: 'Image updated successfully' });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

app.delete('/api/carousel/:id', async (req, res) => {
  try {
    const { id } = req.params;
    
    // Get image path first to delete the file
    const imageResult = await pool.request()
      .input('id', sql.Int, id)
      .query('SELECT image FROM image_Carousel WHERE image_ID = @id');
    
    if (imageResult.recordset.length > 0 && imageResult.recordset[0].image) {
      const imagePath = path.join('uploads', 'carousel', imageResult.recordset[0].image);
      if (fs.existsSync(imagePath)) {
        fs.unlinkSync(imagePath);
      }
    }
    
    await pool.request()
      .input('id', sql.Int, id)
      .query('DELETE FROM image_Carousel WHERE image_ID = @id');
    
    res.json({ message: 'Image deleted successfully' });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

// News Endpoints
app.get('/api/news', async (req, res) => {
  try {
    const result = await pool.request().query('SELECT * FROM news_tb');
    res.json(result.recordset);
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

app.post('/api/news', async (req, res) => {
  try {
    const { name, content } = req.body;
    
    const result = await pool.request()
      .input('name', sql.VarChar, name)
      .input('content', sql.VarChar, content)
      .query('INSERT INTO news_tb (name, content) VALUES (@name, @content)');
    
    res.json({ message: 'News added successfully', id: result.recordset });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

app.put('/api/news/:id', async (req, res) => {
  try {
    const { id } = req.params;
    const { name, content } = req.body;
    
    await pool.request()
      .input('id', sql.Int, id)
      .input('name', sql.VarChar, name)
      .input('content', sql.VarChar, content)
      .query('UPDATE news_tb SET name = @name, content = @content WHERE news_ID = @id');
    
    res.json({ message: 'News updated successfully' });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

app.delete('/api/news/:id', async (req, res) => {
  try {
    const { id } = req.params;
    
    await pool.request()
      .input('id', sql.Int, id)
      .query('DELETE FROM news_tb WHERE news_ID = @id');
    
    res.json({ message: 'News deleted successfully' });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

// Calendar Endpoints
app.get('/api/calendar', async (req, res) => {
  try {
    const result = await pool.request().query('SELECT * FROM mon_calendar');
    res.json(result.recordset);
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

app.post('/api/calendar', upload.single('image'), async (req, res) => {
  try {
    const { name } = req.body;
    const imagePath = req.file ? req.file.filename : null;
    
    const result = await pool.request()
      .input('name', sql.VarChar, name)
      .input('imagePath', sql.VarChar, imagePath)
      .query('INSERT INTO mon_calendar (name, image) VALUES (@name, @imagePath)');
    
    res.json({ message: 'Calendar image added successfully', id: result.recordset });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

// Events Endpoints
app.get('/api/events', async (req, res) => {
  try {
    const result = await pool.request().query('SELECT * FROM events_tb');
    res.json(result.recordset);
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

app.post('/api/events', async (req, res) => {
  try {
    const { name, description, date } = req.body;
    
    const result = await pool.request()
      .input('name', sql.VarChar, name)
      .input('description', sql.VarChar, description)
      .input('date', sql.Date, date)
      .query('INSERT INTO events_tb (name, description, date) VALUES (@name, @description, @date)');
    
    res.json({ message: 'Event added successfully', id: result.recordset });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

app.put('/api/events/:id', async (req, res) => {
  try {
    const { id } = req.params;
    const { name, description, date } = req.body;
    
    await pool.request()
      .input('id', sql.Int, id)
      .input('name', sql.VarChar, name)
      .input('description', sql.VarChar, description)
      .input('date', sql.Date, date)
      .query('UPDATE events_tb SET name = @name, description = @description, date = @date WHERE event_ID = @id');
    
    res.json({ message: 'Event updated successfully' });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

app.delete('/api/events/:id', async (req, res) => {
  try {
    const { id } = req.params;
    
    await pool.request()
      .input('id', sql.Int, id)
      .query('DELETE FROM events_tb WHERE event_ID = @id');
    
    res.json({ message: 'Event deleted successfully' });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

// Achievements Endpoints
app.get('/api/achievements', async (req, res) => {
  try {
    const result = await pool.request().query('SELECT * FROM achieve');
    res.json(result.recordset);
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

app.post('/api/achievements', upload.single('image'), async (req, res) => {
  try {
    const { title, description, date } = req.body;
    const imagePath = req.file ? req.file.filename : null;
    
    const result = await pool.request()
      .input('title', sql.VarChar, title)
      .input('description', sql.VarChar, description)
      .input('date', sql.Date, date)
      .input('imagePath', sql.VarChar, imagePath)
      .query('INSERT INTO achieve (title, description, date, image) VALUES (@title, @description, @date, @imagePath)');
    
    res.json({ message: 'Achievement added successfully', id: result.recordset });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

app.put('/api/achievements/:id', upload.single('image'), async (req, res) => {
  try {
    const { id } = req.params;
    const { title, description, date } = req.body;
    let imagePath = null;
    
    if (req.file) {
      imagePath = req.file.filename;
      // Delete old image if needed
    }
    
    let query = 'UPDATE achieve SET title = @title, description = @description, date = @date';
    if (imagePath) {
      query += ', image = @imagePath';
    }
    query += ' WHERE ach_ID = @id';
    
    const request = pool.request()
      .input('id', sql.Int, id)
      .input('title', sql.VarChar, title)
      .input('description', sql.VarChar, description)
      .input('date', sql.Date, date);
    
    if (imagePath) {
      request.input('imagePath', sql.VarChar, imagePath);
    }
    
    await request.query(query);
    res.json({ message: 'Achievement updated successfully' });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

app.delete('/api/achievements/:id', async (req, res) => {
  try {
    const { id } = req.params;
    
    // Get image path first to delete the file
    const imageResult = await pool.request()
      .input('id', sql.Int, id)
      .query('SELECT image FROM achieve WHERE ach_ID = @id');
    
    if (imageResult.recordset.length > 0 && imageResult.recordset[0].image) {
      const imagePath = path.join('uploads', 'achievements', imageResult.recordset[0].image);
      if (fs.existsSync(imagePath)) {
        fs.unlinkSync(imagePath);
      }
    }
    
    await pool.request()
      .input('id', sql.Int, id)
      .query('DELETE FROM achieve WHERE ach_ID = @id');
    
    res.json({ message: 'Achievement deleted successfully' });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

const PORT = 3001;
app.listen(PORT, () => {
  console.log(`Server running on port ${PORT}`);
});
```

## Frontend (Admin.jsx) - Enhanced with API Integration

```jsx
import React, { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { FiMail, FiCalendar, FiImage, FiFileText, FiUsers, FiSettings, FiAward, FiMessageSquare } from 'react-icons/fi';
import { TbLogout } from "react-icons/tb";
import Navbar from '../components/Navbar';
import { FaSearch } from "react-icons/fa";
import { FaNewspaper } from "react-icons/fa6";
import { IoSearchOutline } from "react-icons/io5";

const COPYRIGHT_TEXT = `All rights reserved Â© DSI Samson Rubber Industries - Information Technology Department`;

const Admin = () => {
  const navigate = useNavigate();
  const [activeTab, setActiveTab] = useState('carousel');
  const [activeApplication, setActiveApplication] = useState(null);
  
  // State for data from API
  const [carouselImages, setCarouselImages] = useState([]);
  const [news, setNews] = useState([]);
  const [calendar, setCalendar] = useState([]);
  const [events, setEvents] = useState([]);
  const [achievements, setAchievements] = useState([]);
  
  // Form states
  const [carouselForm, setCarouselForm] = useState({ name: '', image: null });
  const [newsForm, setNewsForm] = useState({ name: '', content: '' });
  const [eventForm, setEventForm] = useState({ name: '', description: '', date: '' });
  const [achievementForm, setAchievementForm] = useState({ title: '', description: '', date: '', image: null });
  const [calendarForm, setCalendarForm] = useState({ name: '', image: null });

  // Fetch data based on active tab
  useEffect(() => {
    const fetchData = async () => {
      try {
        switch (activeTab) {
          case 'carousel':
            const carouselResponse = await fetch('http://localhost:3001/api/carousel');
            const carouselData = await carouselResponse.json();
            setCarouselImages(carouselData);
            break;
          case 'news':
            const newsResponse = await fetch('http://localhost:3001/api/news');
            const newsData = await newsResponse.json();
            setNews(newsData);
            break;
          case 'calendar':
            const calendarResponse = await fetch('http://localhost:3001/api/calendar');
            const calendarData = await calendarResponse.json();
            setCalendar(calendarData);
            break;
          case 'events':
            const eventsResponse = await fetch('http://localhost:3001/api/events');
            const eventsData = await eventsResponse.json();
            setEvents(eventsData);
            break;
          case 'achievements':
            const achievementsResponse = await fetch('http://localhost:3001/api/achievements');
            const achievementsData = await achievementsResponse.json();
            setAchievements(achievementsData);
            break;
          default:
            break;
        }
      } catch (error) {
        console.error('Error fetching data:', error);
      }
    };

    fetchData();
  }, [activeTab]);

  // API call functions
  const handleCarouselSubmit = async (e) => {
    e.preventDefault();
    const formData = new FormData();
    formData.append('name', carouselForm.name);
    if (carouselForm.image) {
      formData.append('image', carouselForm.image);
    }

    try {
      const response = await fetch('http://localhost:3001/api/carousel', {
        method: 'POST',
        body: formData,
      });
      
      if (response.ok) {
        alert('Image added successfully!');
        setCarouselForm({ name: '', image: null });
        // Refresh carousel data
        const carouselResponse = await fetch('http://localhost:3001/api/carousel');
        const carouselData = await carouselResponse.json();
        setCarouselImages(carouselData);
      } else {
        alert('Error adding image');
      }
    } catch (error) {
      console.error('Error:', error);
    }
  };

  const handleNewsSubmit = async (e) => {
    e.preventDefault();
    try {
      const response = await fetch('http://localhost:3001/api/news', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(newsForm),
      });
      
      if (response.ok) {
        alert('News added successfully!');
        setNewsForm({ name: '', content: '' });
        // Refresh news data
        const newsResponse = await fetch('http://localhost:3001/api/news');
        const newsData = await newsResponse.json();
        setNews(newsData);
      } else {
        alert('Error adding news');
      }
    } catch (error) {
      console.error('Error:', error);
    }
  };

  const handleEventSubmit = async (e) => {
    e.preventDefault();
    try {
      const response = await fetch('http://localhost:3001/api/events', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(eventForm),
      });
      
      if (response.ok) {
        alert('Event added successfully!');
        setEventForm({ name: '', description: '', date: '' });
        // Refresh events data
        const eventsResponse = await fetch('http://localhost:3001/api/events');
        const eventsData = await eventsResponse.json();
        setEvents(eventsData);
      } else {
        alert('Error adding event');
      }
    } catch (error) {
      console.error('Error:', error);
    }
  };

  const handleAchievementSubmit = async (e) => {
    e.preventDefault();
    const formData = new FormData();
    formData.append('title', achievementForm.title);
    formData.append('description', achievementForm.description);
    formData.append('date', achievementForm.date);
    if (achievementForm.image) {
      formData.append('image', achievementForm.image);
    }

    try {
      const response = await fetch('http://localhost:3001/api/achievements', {
        method: 'POST',
        body: formData,
      });
      
      if (response.ok) {
        alert('Achievement added successfully!');
        setAchievementForm({ title: '', description: '', date: '', image: null });
        // Refresh achievements data
        const achievementsResponse = await fetch('http://localhost:3001/api/achievements');
        const achievementsData = await achievementsResponse.json();
        setAchievements(achievementsData);
      } else {
        alert('Error adding achievement');
      }
    } catch (error) {
      console.error('Error:', error);
    }
  };

  const handleCalendarSubmit = async (e) => {
    e.preventDefault();
    const formData = new FormData();
    formData.append('name', calendarForm.name);
    if (calendarForm.image) {
      formData.append('image', calendarForm.image);
    }

    try {
      const response = await fetch('http://localhost:3001/api/calendar', {
        method: 'POST',
        body: formData,
      });
      
      if (response.ok) {
        alert('Calendar image added successfully!');
        setCalendarForm({ name: '', image: null });
        // Refresh calendar data
        const calendarResponse = await fetch('http://localhost:3001/api/calendar');
        const calendarData = await calendarResponse.json();
        setCalendar(calendarData);
      } else {
        alert('Error adding calendar image');
      }
    } catch (error) {
      console.error('Error:', error);
    }
  };

  const deleteCarouselImage = async (id) => {
    if (window.confirm('Are you sure you want to delete this image?')) {
      try {
        const response = await fetch(`http://localhost:3001/api/carousel/${id}`, {
          method: 'DELETE',
        });
        
        if (response.ok) {
          alert('Image deleted successfully!');
          // Refresh carousel data
          const carouselResponse = await fetch('http://localhost:3001/api/carousel');
          const carouselData = await carouselResponse.json();
          setCarouselImages(carouselData);
        } else {
          alert('Error deleting image');
        }
      } catch (error) {
        console.error('Error:', error);
      }
    }
  };

  const deleteNews = async (id) => {
    if (window.confirm('Are you sure you want to delete this news?')) {
      try {
        const response = await fetch(`http://localhost:3001/api/news/${id}`, {
          method: 'DELETE',
        });
        
        if (response.ok) {
          alert('News deleted successfully!');
          // Refresh news data
          const newsResponse = await fetch('http://localhost:3001/api/news');
          const newsData = await newsResponse.json();
          setNews(newsData);
        } else {
          alert('Error deleting news');
        }
      } catch (error) {
        console.error('Error:', error);
      }
    }
  };

  const deleteEvent = async (id) => {
    if (window.confirm('Are you sure you want to delete this event?')) {
      try {
        const response = await fetch(`http://localhost:3001/api/events/${id}`, {
          method: 'DELETE',
        });
        
        if (response.ok) {
          alert('Event deleted successfully!');
          // Refresh events data
          const eventsResponse = await fetch('http://localhost:3001/api/events');
          const eventsData = await eventsResponse.json();
          setEvents(eventsData);
        } else {
          alert('Error deleting event');
        }
      } catch (error) {
        console.error('Error:', error);
      }
    }
  };

  const deleteAchievement = async (id) => {
    if (window.confirm('Are you sure you want to delete this achievement?')) {
      try {
        const response = await fetch(`http://localhost:3001/api/achievements/${id}`, {
          method: 'DELETE',
        });
        
        if (response.ok) {
          alert('Achievement deleted successfully!');
          // Refresh achievements data
          const achievementsResponse = await fetch('http://localhost:3001/api/achievements');
          const achievementsData = await achievementsResponse.json();
          setAchievements(achievementsData);
        } else {
          alert('Error deleting achievement');
        }
      } catch (error) {
        console.error('Error:', error);
      }
    }
  };

  /// Applications and Policies data
  const applications = [
    { id: 'hr', name: 'Human Resource Management', icon: <FiUsers /> },
    { id: 'medical', name: 'Medical', icon: <FiFileText /> },
    { id: 'display', name: 'Display Panel', icon: <FiImage /> },
    { id: 'appraisal', name: 'Appraisal', icon: <FiFileText /> },
    { id: 'feedback', name: 'Feedback Form', icon: <FiMessageSquare /> },
    { id: 'nonconformity', name: 'Non-Conformity', icon: <FiSettings /> },
    { id: 'sfa', name: 'SFA', icon: <FiSettings /> },
    { id: 'ifs', name: 'IFS', icon: <FiSettings /> },
    { id: 'kpi', name: 'KPI', icon: <FiSettings /> },
    { id: 'wms', name: 'WMS', icon: <FiSettings /> },
    { id: 'docware', name: 'Docware', icon: <FiSettings /> },
    { id: 'production display', name: 'Production Display', icon: <FiSettings /> }
  ];

  const policies = [
    { id: 1, title: 'Standard Operating Procedures', category: 'SOP' },
    { id: 2, title: 'Internation Organization for Standardization', category: 'ISO' },
    { id: 3, title: 'Quality Management System', category: 'QMS' },
    { id: 4, title: 'Environmental Management System', category: 'EMS' }
  ];

  const renderContent = () => {
    switch (activeTab) {
      case 'carousel':
        return (
          <div className="space-y-6">
            <h2 className="text-2xl font-bold mb-4">Company Image Carousel</h2>
            <div className="grid grid-cols-1 gap-4">
              <div className="bg-blue-50 rounded-lg shadow p-6 border border-gray-200">
                <h1 className="text-xl font-bold text-gray-800 mb-6">Add new image to the company carousel</h1>
                
                <div className="bg-white rounded-lg shadow p-6">
                  <form onSubmit={handleCarouselSubmit}>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6 items-center">
                      <div className="space-y-2">
                        <label className="block text-sm font-medium text-gray-700">Title</label>
                        <input
                          type="text"
                          placeholder="Enter image title"
                          className="w-full border border-gray-300 rounded-md py-2 px-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                          value={carouselForm.name}
                          onChange={(e) => setCarouselForm({...carouselForm, name: e.target.value})}
                          required
                        />
                      </div>
                      
                      <div className="space-y-2">
                        <label className="block text-sm font-medium text-gray-700">Image</label>
                        <div className="flex items-center gap-3">
                          <input
                            type="file"
                            accept="image/*"
                            className="block w-full text-sm text-gray-500
                                file:mr-4 file:py-2 file:px-4
                                file:rounded-md file:border-0
                                file:text-sm file:font-semibold
                                file:bg-blue-50 file:text-blue-700
                                hover:file:bg-blue-100"
                            onChange={(e) => setCarouselForm({...carouselForm, image: e.target.files[0]})}
                            required
                          />
                        </div>
                      </div>
                    </div>
                    
                    <div className="flex justify-end space-x-4 mt-6">
                      <button type="submit" className="px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-700 transition-colors">
                        Upload Image
                      </button>
                      <button type="button" className="px-6 py-2 bg-gray-300 text-black hover:text-white rounded-md hover:bg-gray-700 transition-colors">
                        Cancel
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
            
            <div className='flex flex-col gap-4 p-4'>
              <h1 className='font-bold'>Manage existing images</h1>
              <table className="w-3/4 bg-black border-1 border-black rounded-lg overflow-hidden">
                <thead className="bg-gray-200">
                  <tr>
                    <th className="px-6 py-3 text-center text-xs font-medium text-gray-600 uppercase tracking-wider">Title</th>
                    <th className="px-6 py-3 text-center text-xs font-medium text-gray-600 uppercase tracking-wider">Image</th>
                    <th className="px-6 py-3 text-center text-xs font-medium text-gray-600 uppercase tracking-wider">Actions</th>
                  </tr>
                </thead>
                <tbody className="bg-white divide-y divide-black ">
                  {carouselImages.map((image) => (
                    <tr key={image.image_ID} className='text-center'>
                      <td className="px-4 py-4 justify-center items-center whitespace-nowrap text-sm font-medium text-black">
                        {image.name}
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap align-middle">
                        <div className="h-20 w-20 border mx-auto">
                          {image.image && (
                            <img 
                              src={`http://localhost:3001/uploads/carousel/${image.image}`} 
                              alt={image.name}
                              className="h-full w-full object-cover"
                            />
                          )}
                        </div>
                      </td>
                      <td className="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <div className='flex justify-center space-x-2'> 
                          <button className="text-blue-600 hover:text-blue-900 mr-3 border-1 rounded px-4 ">Edit</button>
                          <button 
                            className="text-red-600 hover:text-red-900 border-1 rounded px-3"
                            onClick={() => deleteCarouselImage(image.image_ID)}
                          >
                            Delete
                          </button>
                        </div>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </div>
        );

      case 'news':
        return (
          <div className="space-y-6">
            <h2 className="text-2xl font-bold mb-4">News & Announcements</h2>
            
            {/* News Management Section */}
            <div className="bg-white rounded-lg shadow p-6 mt-6">
              <h3 className="text-xl font-semibold mb-4">Add News & Announcements</h3>
              <form onSubmit={handleNewsSubmit} className="space-y-4">
                <label className='font-semibold text-blue-950'>Title:</label>
                <input 
                  type="text" 
                  placeholder="News Title" 
                  className="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                  value={newsForm.name}
                  onChange={(e) => setNewsForm({...newsForm, name: e.target.value})}
                  required
                />
                <label className='font-semibold text-blue-950'>Content:</label>
                <textarea 
                  placeholder="News Content" 
                  className="w-full border border-gray-300 rounded-md px-3 py-2 h-24 focus:outline-none focus:ring-2 focus:ring-blue-500"
                  value={newsForm.content}
                  onChange={(e) => setNewsForm({...newsForm, content: e.target.value})}
                  required
                />
                <div className="w-2/4 flex space-x-3 pt-2">
                  <button type="submit" className="px-1 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors flex-1">
                    Add
                  </button>
                  <button type="button" className="px-1 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-400 transition-colors flex-1">
                    Clear
                  </button>
                </div>
              </form>
            </div>

            {/* manage existing news and announcements */}
            <div className="bg-white rounded-lg shadow-lg p-6 border border-gray-200">
              <div className="flex justify-between items-center mb-4">
                <h3 className="text-xl font-semibold text-gray-800">Manage News & Announcements</h3>
                <div className="relative">
                  <input 
                    type="text" 
                    placeholder="Search events..." 
                    className="border border-gray-300 rounded-md px-3 py-1 pl-8 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"
                  />
                  <IoSearchOutline className="w-4 h-4 absolute left-2.5 top-2.5  text-gray-400" fill="none" stroke="currentColor" />
                </div>
              </div>
              
              <div className="overflow-x-auto">
                <table className="min-w-full divide-y divide-black border-1 border-black rounded-lg">
                  <thead className="bg-gray-50">
                    <tr className='text-center '>
                      <th scope="col" className="px-6 py-3 font-bold text-medium  text-blue-900  tracking-wider">
                        Title
                      </th>
                      <th scope="col" className="px-6 py-3 font-bold  text-medium text-blue-900  tracking-wider">
                        Content
                      </th>
                      <th scope="col" className="px-6 py-3 font-bold  text-medium text-blue-900  tracking-wider">
                        Actions
                      </th>
                    </tr>
                  </thead>
                  <tbody className="bg-white divide-y divide-black">
                    {news.map((newsItem) => (
                      <tr key={newsItem.news_ID} className='text-center'>
                        <td className="px-6 py-4 whitespace-nowrap">
                          <div className="text-sm text-black">{newsItem.name}</div>
                        </td>
                        <td className="px-6 py-4 whitespace-nowrap">
                          <div className="text-sm text-black">{newsItem.content}</div>
                        </td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm font-medium text-center">
                          <button className="text-blue-600 hover:text-blue-900 mr-3">Edit</button>
                          <button 
                            className="text-red-600 hover:text-red-900"
                            onClick={() => deleteNews(newsItem.news_ID)}
                          >
                            Delete
                          </button>
                        </td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        );

      case 'calendar':
        return (
          <div className="space-y-6">
            <h2 className="text-2xl font-bold mb-4">Working Calendar</h2>
            
            {/* Calendar Widget Section */}
            <div className="bg-gray-100 rounded-lg shadow p-4 h-64 flex items-center justify-center">
              {calendar.length > 0 ? (
                <img 
                  src={`http://localhost:3001/uploads/calendar/${calendar[0].image}`} 
                  alt="Monthly Calendar" 
                  className="max-h-full max-w-full object-contain"
                />
              ) : (
                <span className="text-gray-400 mb-2 ">
                  <p className='pb-3'>Monthly calendar......</p>
                  <form onSubmit={handleCalendarSubmit}>
                    <input
                      type="file"
                      accept="image/*"
                      className="block w-full text-sm text-gray-500
                          file:mr-4 file:py-2 file:px-4
                          file:rounded-md file:border-0
                          file:text-sm file:font-semibold
                          file:bg-blue-50 file:text-blue-700
                          hover:file:bg-blue-100"
                      onChange={(e) => setCalendarForm({...calendarForm, image: e.target.files[0]})}
                      required
                    />
                    <input
                      type="text"
                      placeholder="Calendar Name"
                      className="mt-2 border border-gray-300 rounded-md px-3 py-1"
                      value={calendarForm.name}
                      onChange={(e) => setCalendarForm({...calendarForm, name: e.target.value})}
                      required
                    />
                    <button type="submit" className="mt-